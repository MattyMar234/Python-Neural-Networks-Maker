import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

# Dati dai tre file CSV (simulazione dei dati qui, sostituire con lettura file CSV se necessario)
data1 = [0.7204456925392151, 0.7248789668083191, 0.774260938167572, 0.7992217540740967, 0.814544141292572, 0.7595896124839783, 0.8151553273200989, 0.8425530195236206, 0.8238502740859985, 0.8224213123321533, 0.8287729620933533, 0.8167495727539062, 0.794158935546875, 0.8080071210861206, 0.8377487659454346, 0.8508806824684143, 0.8458181023597717, 0.8401373624801636, 0.7851130366325378, 0.8533627390861511, 0.8459359407424927, 0.8408505320549011, 0.8506916165351868]
data2 = [0.8529049754142761, 0.8554823398590088, 0.8380160927772522, 0.8641425371170044, 0.7607783675193787, 0.8570457696914673, 0.8716854453086853, 0.8633137345314026, 0.8655858635902405, 0.857858419418335, 0.8272439241409302, 0.8228932023048401, 0.8576103448867798, 0.8705111145973206, 0.8702366948127747, 0.8711062073707581, 0.8687447309494019, 0.8645875453948975, 0.8496585488319397, 0.8449088335037231, 0.8671383261680603, 0.8672946095466614, 0.8363528847694397, 0.8735890984535217, 0.8653756380081177, 0.8739824891090393, 0.8642606139183044, 0.8627814054489136, 0.8704531788825989, 0.8724534511565982, 0.8717193603515625, 0.8747013211250305, 0.8774772882461548, 0.8441566228866577, 0.8742455244064331, 0.8782114386558533, 0.8737629055976868, 0.8754820823669434, 0.8756679892539978]
data3 = [0.8799167275428772, 0.8829424977302551, 0.8820331692695618, 0.8846107721328735, 0.8826389908790588, 0.882903516292572, 0.8826771378517151, 0.8835127353668213, 0.8826432228088379]

# Creare una colonna "source" per indicare la provenienza dei dati
values = np.array(data1 + data2 + data3)
sources = np.array(["File 1"] * len(data1) + ["File 2"] * len(data2) + ["File 3"] * len(data3))


# Valore massimo
max_value = values.max()
max_index = values.argmax()

plt.plot(range(0, len(values)), values, marker="o",  markersize=3, color="red", label="Validation Accuracy")
plt.axhline(y=max_value, color="black", linestyle="--", linewidth=1)
plt.plot(max_index, max_value, marker="o", color="red", label=f"Max Value: {max_value:.3f}")

plt.yticks(list(plt.yticks()[0]) + [max_value])
#plt.ylim(bottom=0.0)
plt.xlim(left=0.0)

plt.xlabel("Epoch")
plt.ylabel("Validation Accuracy")
plt.legend()
plt.grid(alpha=0.4)
plt.show()